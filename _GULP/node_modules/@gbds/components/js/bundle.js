/*!
 * 
 * name: @gbds/components
 * version: 2.0.8
 * 
 * date: Sun Jan 24 2021 13:23:17 GMT-0500 (Eastern Standard Time)
 * Copyright 2020 GM Global Technology Operations LLC
 * All Rights Reserved.
 * This software is proprietary to GM Global Technology Operations LLC
 * and is protected by intellectual property laws and international
 * intellectual property treaties. Your access to this software is governed
 * by the terms of your license agreement with GM Global Technology Operations LLC.
 * Any other use of the software is strictly prohibited.
 * 
 */!function(e){var t={};function s(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(i,r,function(t){return e[t]}.bind(null,r));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=5)}({5:function(e,t,s){"use strict";s.r(t);class i{static fromAttribute(e,t){switch(t){case"boolean":return null!==e&&"false"!==e;case"number":return null===e?null:Number(e);case"object":case"array":return JSON.parse(e)}return e}static toAttribute(e,t){switch(t){case"boolean":return!!e&&"";case"object":case"array":return JSON.stringify(e)}return e}}var r;!function(e){e.loaded="googleMapsApiLoaded",e.error="googleMapsApiLoadingError"}(r||(r={}));class a{static get isLoaded(){return"object"==typeof google&&"object"==typeof google.maps}static isClientIdOpts(e){return void 0!==e.clientId}static getScriptSource(e){let t="https://maps.googleapis.com/maps/api/js";const s=e.language?"&language="+e.language:"",i=e.region?"&region="+e.region:"";if(a.isClientIdOpts(e)){const s=e.channel?"&channel="+e.channel:"";t+="?client="+e.clientId+s}else t+="?key="+e.apiKey;return`${t}${s}${i}&libraries=places`}static load(e){return a.isLoaded?new Promise(e=>e()):a.isLoading?new Promise((e,t)=>{window.addEventListener(r.loaded,()=>e(),{once:!0}),window.addEventListener(r.error,e=>t(e.detail),{once:!0})}):(a.isLoading=!0,new Promise((t,s)=>{const i=document.createElement("script");i.type="text/javascript",i.src=a.getScriptSource(e),i.onerror=()=>{a.isLoading=!1;const e=new Error("Google Maps API failed to load.");s(e),window.dispatchEvent(new CustomEvent(r.error,{detail:e}))},i.onload=()=>{a.isLoading=!1,t(),window.dispatchEvent(new CustomEvent(r.loaded))},document.body.appendChild(i)}))}}a.isLoading=!1;function o(e,t,s){Array.isArray(e)?(e.forEach(e=>e.setMap(t)),s&&s.addMarkers(e)):(e.setMap(t),s&&s.addMarker(e))}function n(e){Array.isArray(e)?e.forEach(e=>e.setMap(null)):e.clearMarkers()}const l=e=>new google.maps.Marker(e);function d(e,t){return Array.isArray(t)?t.forEach(t=>e.extend(t.getPosition())):e.extend(t.getPosition()),e}function c(e="string",t=null){return(s,r)=>{const a=r.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase();if(t){if(!s.hasOwnProperty(t))throw new Error(`Member \`${t}\` does not exist on on target class.`);s.constructor.observedProps.set(a,{type:e,changedFn:t})}const o=function(){return i.fromAttribute(this.getAttribute(a),e)},n=function(t){this.setAttribute(a,i.toAttribute(t,e))};delete s[r]&&Object.defineProperty(s,r,{get:o,set:n,enumerable:!0})}}function h(e){return function(t){c("boolean")(t.prototype,"framework");const{onInit:s}=t.prototype;s&&(t.prototype.connectedCallback=function(){this.framework||this.onInit()}),customElements.define(e,t)}}class u extends HTMLElement{constructor(){super()}static get observedAttributes(){return this.observedProps.keys()}attributeChangedCallback(e,t,s){const r=this.constructor.observedProps,{changedFn:a,type:o}=r.get(e),n=i.fromAttribute(t,o),l=i.fromAttribute(s,o);this[a](n,l)}}u.observedProps=new Map;var p=function(e,t,s,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(a<3?r(o):a>3?r(t,s,o):r(t,s))||o);return a>3&&o&&Object.defineProperty(t,s,o),o};let g=class extends HTMLElement{constructor(){super()}onInit(){this.expanderButton=this.querySelector(".gb-expander-btn"),this.expanderContent=this.querySelector(".gb-expander-content"),this.expanderContentBody=this.querySelector(".gb-expander-content-body"),this.expanderButton.addEventListener("click",()=>this.onClick()),this.expanderButton.addEventListener("keydown",e=>this.handleKeydown(e)),!this.dataDisabled&&this.expanderButton.hasAttribute("aria-expanded")&&this.expanderButton.setAttribute("aria-expanded",this.isOpen.toString())}disconnectedCallback(){this.expanderButton.removeEventListener("click",()=>this.onClick()),this.expanderButton.removeEventListener("keydown",e=>this.handleKeydown(e))}handleKeydown(e){" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),this.onClick())}onClick(){this.dataDisabled||(this.isOpen?this.closeExpander():this.openExpander())}get isOpen(){return this.classList.contains("active")}closeExpander(){const e=this.expanderContentBody.offsetHeight;this.expanderContent.style.height=e+"px",setTimeout(()=>{this.expanderContent.style.height="",this.classList.remove("active"),this.expanderButton.setAttribute("aria-expanded","false")},0)}openExpander(){const e=this.expanderContentBody.offsetHeight;this.expanderContent.addEventListener("transitionend",()=>{this.expanderContent.style.height=""},{once:!0}),this.classList.add("active"),this.expanderContent.style.height=e+"px",this.expanderButton.setAttribute("aria-expanded","true")}};p([c("boolean")],g.prototype,"dataDisabled",void 0),g=p([h("gb-expander")],g);class m{constructor(){!function(e,t){for(let s in t.prototype)e.prototype[s]=t.prototype[s]}(m,google.maps.OverlayView)}}function b(e){return Object.keys(e).reduce((t,s)=>(e[s]&&t.push(s+":"+e[s]),t),[]).join(";")}function y(e){return e?e+"px":void 0}class v extends m{constructor(e,t){super(),this.cluster_=e,this.styles_=t,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.style=null,this.setMap(e.getMap())}onAdd(){let e,t;const s=this.cluster_.getMarkerClusterer(),[i,r]=google.maps.version.split("."),a=100*parseInt(i,10)+parseInt(r,10);this.div_=document.createElement("div"),this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",(function(){t=e})),google.maps.event.addDomListener(this.div_,"mousedown",()=>{e=!0,t=!1}),a>=332&&google.maps.event.addDomListener(this.div_,"touchstart",e=>{e.stopPropagation()}),google.maps.event.addDomListener(this.div_,"click",i=>{if(e=!1,!t){if(google.maps.event.trigger(s,"click",this.cluster_),google.maps.event.trigger(s,"clusterclick",this.cluster_),s.getZoomOnClick()){const e=s.getMaxZoom(),t=this.cluster_.getBounds();s.getMap().fitBounds(t),setTimeout((function(){s.getMap().fitBounds(t),null!==e&&s.getMap().getZoom()>e&&s.getMap().setZoom(e+1)}),100)}i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation()}}),google.maps.event.addDomListener(this.div_,"mouseover",()=>{google.maps.event.trigger(s,"mouseover",this.cluster_)}),google.maps.event.addDomListener(this.div_,"mouseout",()=>{google.maps.event.trigger(s,"mouseout",this.cluster_)})}onRemove(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)}draw(){if(this.visible_){const e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+"px",this.div_.style.left=e.x+"px"}}hide(){this.div_&&(this.div_.style.display="none"),this.visible_=!1}show(){this.div_&&(this.div_.className=this.className_,this.div_.style.cssText=this.createCss_(this.getPosFromLatLng_(this.center_)),this.div_.innerHTML=(this.style.url?this.getImageElementHtml():"")+this.getLabelDivHtml(),void 0===this.sums_.title||""===this.sums_.title?this.div_.title=this.cluster_.getMarkerClusterer().getTitle():this.div_.title=this.sums_.title,this.div_.style.display=""),this.visible_=!0}getLabelDivHtml(){return`\n<div aria-label="${this.cluster_.getMarkerClusterer().ariaLabelFn(this.sums_.text)}" style="${b({position:"absolute",top:y(this.anchorText_[0]),left:y(this.anchorText_[1]),color:this.style.textColor,"font-size":y(this.style.textSize),"font-family":this.style.fontFamily,"font-weight":this.style.fontWeight,"font-style":this.style.fontStyle,"text-decoration":this.style.textDecoration,"text-align":"center",width:y(this.style.width),"line-height":y(this.style.textLineHeight)})}" tabindex="0">\n  <span aria-hidden="true">${this.sums_.text}</span>\n</div>\n`}getImageElementHtml(){const e=(this.style.backgroundPosition||"0 0").split(" "),t=parseInt(e[0].replace(/^\s+|\s+$/g,""),10),s=parseInt(e[1].replace(/^\s+|\s+$/g,""),10);let i={};if(this.cluster_.getMarkerClusterer().getEnableRetinaIcons())i={width:y(this.style.width),height:y(this.style.height)};else{const[e,r,a,o]=[-1*s,-1*t+this.style.width,-1*s+this.style.height,-1*t];i={clip:`rect(${e}px, ${r}px, ${a}px, ${o}px)`}}const r=b(Object.assign({position:"absolute",top:y(s),left:y(t)},i));return`<img alt="${this.sums_.text}" aria-hidden="true" src="${this.style.url}" style="${r}"/>`}useStyle(e){this.sums_=e;let t=Math.max(0,e.index-1);t=Math.min(this.styles_.length-1,t),this.style=this.styles_[t],this.anchorText_=this.style.anchorText||[0,0],this.anchorIcon_=this.style.anchorIcon||[Math.floor(this.style.height/2),Math.floor(this.style.width/2)],this.className_=this.cluster_.getMarkerClusterer().getClusterClass()+" "+(this.style.className||"cluster-"+t)}setCenter(e){this.center_=e}createCss_(e){return b({"z-index":""+this.cluster_.getMarkerClusterer().getZIndex(),top:y(e.y),left:y(e.x),width:y(this.style.width),height:y(this.style.height),cursor:"pointer",position:"absolute","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-o-user-select":"none","user-select":"none"})}getPosFromLatLng_(e){const t=this.getProjection().fromLatLngToDivPixel(e);return t.x=Math.floor(t.x-this.anchorIcon_[1]),t.y=Math.floor(t.y-this.anchorIcon_[0]),t}}class f{constructor(e){this.markerClusterer_=e,this.map_=this.markerClusterer_.getMap(),this.minClusterSize_=this.markerClusterer_.getMinimumClusterSize(),this.averageCenter_=this.markerClusterer_.getAverageCenter(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new v(this,this.markerClusterer_.getStyles())}getSize(){return this.markers_.length}getMarkers(){return this.markers_}getCenter(){return this.center_}getMap(){return this.map_}getMarkerClusterer(){return this.markerClusterer_}getBounds(){const e=new google.maps.LatLngBounds(this.center_,this.center_),t=this.getMarkers();for(let s=0;s<t.length;s++)e.extend(t[s].getPosition());return e}remove(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_}addMarker(e){if(this.isMarkerAlreadyAdded_(e))return!1;if(this.center_){if(this.averageCenter_){const t=this.markers_.length+1,s=(this.center_.lat()*(t-1)+e.getPosition().lat())/t,i=(this.center_.lng()*(t-1)+e.getPosition().lng())/t;this.center_=new google.maps.LatLng(s,i),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();e.isAdded=!0,this.markers_.push(e);const t=this.markers_.length,s=this.markerClusterer_.getMaxZoom();if(null!==s&&this.map_.getZoom()>s)e.getMap()!==this.map_&&e.setMap(this.map_);else if(t<this.minClusterSize_)e.getMap()!==this.map_&&e.setMap(this.map_);else if(t===this.minClusterSize_)for(let e=0;e<t;e++)this.markers_[e].setMap(null);else e.setMap(null);return!0}isMarkerInClusterBounds(e){return this.bounds_.contains(e.getPosition())}calculateBounds_(){const e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)}updateIcon(){const e=this.markers_.length,t=this.markerClusterer_.getMaxZoom();if(null!==t&&this.map_.getZoom()>t)return void this.clusterIcon_.hide();if(e<this.minClusterSize_)return void this.clusterIcon_.hide();const s=this.markerClusterer_.getStyles().length,i=this.markerClusterer_.getCalculator()(this.markers_,s);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(i),this.clusterIcon_.show()}isMarkerAlreadyAdded_(e){if(this.markers_.indexOf)return-1!==this.markers_.indexOf(e);for(let t=0;t<this.markers_.length;t++)if(e===this.markers_[t])return!0;return!1}}const S=(e,t,s)=>void 0!==e[t]?e[t]:s;class E extends m{constructor(e,t=[],s={}){super(),this.options=s,this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.ariaLabelFn=this.options.ariaLabelFn||(()=>""),this.zIndex_=this.options.zIndex||google.maps.Marker.MAX_ZINDEX+1,this.gridSize_=this.options.gridSize||60,this.minClusterSize_=this.options.minimumClusterSize||2,this.maxZoom_=this.options.maxZoom||null,this.styles_=this.options.styles||[],this.title_=this.options.title||"",this.zoomOnClick_=S(this.options,"zoomOnClick",!0),this.averageCenter_=S(this.options,"averageCenter",!1),this.ignoreHidden_=S(this.options,"ignoreHidden",!1),this.enableRetinaIcons_=S(this.options,"enableRetinaIcons",!1),this.imagePath_=this.options.imagePath||E.IMAGE_PATH,this.imageExtension_=this.options.imageExtension||E.IMAGE_EXTENSION,this.imageSizes_=this.options.imageSizes||E.IMAGE_SIZES,this.calculator_=this.options.calculator||E.CALCULATOR,this.batchSize_=this.options.batchSize||E.BATCH_SIZE,this.batchSizeIE_=this.options.batchSizeIE||E.BATCH_SIZE_IE,this.clusterClass_=this.options.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize_=this.batchSizeIE_),this.setupStyles_(),this.addMarkers(t,!0),this.setMap(e)}onAdd(){this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.prevZoom_=this.getMap().getZoom(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",()=>{const e=this.getMap(),t=e.minZoom||0,s=Math.min(e.maxZoom||100,e.mapTypes[e.getMapTypeId()].maxZoom),i=Math.min(Math.max(this.getMap().getZoom(),t),s);this.prevZoom_!=i&&(this.prevZoom_=i,this.resetViewport_(!1))}),google.maps.event.addListener(this.getMap(),"idle",()=>{this.redraw_()})]}onRemove(){for(let e=0;e<this.markers_.length;e++)this.markers_[e].getMap()!==this.activeMap_&&this.markers_[e].setMap(this.activeMap_);for(let e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();this.clusters_=[];for(let e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e]);this.listeners_=[],this.activeMap_=null,this.ready_=!1}draw(){}setupStyles_(){if(!(this.styles_.length>0))for(let e=0;e<this.imageSizes_.length;e++){const t=this.imageSizes_[e];this.styles_.push(E.withDefaultStyle({url:this.imagePath_+(e+1)+"."+this.imageExtension_,height:t,width:t}))}}fitMapToMarkers(){const e=this.getMarkers(),t=new google.maps.LatLngBounds;for(let s=0;s<e.length;s++)!e[s].getVisible()&&this.getIgnoreHidden()||t.extend(e[s].getPosition());this.getMap().fitBounds(t)}getGridSize(){return this.gridSize_}setGridSize(e){this.gridSize_=e}getMinimumClusterSize(){return this.minClusterSize_}setMinimumClusterSize(e){this.minClusterSize_=e}getMaxZoom(){return this.maxZoom_}setMaxZoom(e){this.maxZoom_=e}getZIndex(){return this.zIndex_}setZIndex(e){this.zIndex_=e}getStyles(){return this.styles_}setStyles(e){this.styles_=e}getTitle(){return this.title_}setTitle(e){this.title_=e}getZoomOnClick(){return this.zoomOnClick_}setZoomOnClick(e){this.zoomOnClick_=e}getAverageCenter(){return this.averageCenter_}setAverageCenter(e){this.averageCenter_=e}getIgnoreHidden(){return this.ignoreHidden_}setIgnoreHidden(e){this.ignoreHidden_=e}getEnableRetinaIcons(){return this.enableRetinaIcons_}setEnableRetinaIcons(e){this.enableRetinaIcons_=e}getImageExtension(){return this.imageExtension_}setImageExtension(e){this.imageExtension_=e}getImagePath(){return this.imagePath_}setImagePath(e){this.imagePath_=e}getImageSizes(){return this.imageSizes_}setImageSizes(e){this.imageSizes_=e}getCalculator(){return this.calculator_}setCalculator(e){this.calculator_=e}getBatchSizeIE(){return this.batchSizeIE_}setBatchSizeIE(e){this.batchSizeIE_=e}getClusterClass(){return this.clusterClass_}setClusterClass(e){this.clusterClass_=e}getMarkers(){return this.markers_}getTotalMarkers(){return this.markers_.length}getClusters(){return this.clusters_}getTotalClusters(){return this.clusters_.length}addMarker(e,t){this.pushMarkerTo_(e),t||this.redraw_()}addMarkers(e,t){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.pushMarkerTo_(e[t]);t||this.redraw_()}pushMarkerTo_(e){e.getDraggable()&&google.maps.event.addListener(e,"dragend",()=>{this.ready_&&(e.isAdded=!1,this.repaint())}),e.isAdded=!1,this.markers_.push(e)}removeMarker(e,t){const s=this.removeMarker_(e);return!t&&s&&this.repaint(),s}removeMarkers(e,t){let s=!1;for(let t=0;t<e.length;t++){const i=this.removeMarker_(e[t]);s=s||i}return!t&&s&&this.repaint(),s}removeMarker_(e){let t=-1;if(this.markers_.indexOf)t=this.markers_.indexOf(e);else for(let s=0;s<this.markers_.length;s++)if(e===this.markers_[s]){t=s;break}return-1!==t&&(e.setMap(null),this.markers_.splice(t,1),!0)}clearMarkers(){this.resetViewport_(!0),this.markers_=[]}repaint(){const e=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout((function(){for(let t=0;t<e.length;t++)e[t].remove()}),0)}getExtendedBounds(e){const t=this.getProjection(),s=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),i=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),r=t.fromLatLngToDivPixel(s);r.x+=this.gridSize_,r.y-=this.gridSize_;const a=t.fromLatLngToDivPixel(i);a.x-=this.gridSize_,a.y+=this.gridSize_;const o=t.fromDivPixelToLatLng(r),n=t.fromDivPixelToLatLng(a);return e.extend(o),e.extend(n),e}redraw_(){this.createClusters_(0)}resetViewport_(e){for(let e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();this.clusters_=[];for(let t=0;t<this.markers_.length;t++){const s=this.markers_[t];s.isAdded=!1,e&&s.setMap(null)}}distanceBetweenPoints_(e,t){const s=(t.lat()-e.lat())*Math.PI/180,i=(t.lng()-e.lng())*Math.PI/180,r=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)))}isMarkerInBounds_(e,t){return t.contains(e.getPosition())}addToClosestCluster_(e){let t=4e4,s=null;for(let i=0;i<this.clusters_.length;i++){const r=this.clusters_[i],a=r.getCenter();if(a){const i=this.distanceBetweenPoints_(a,e.getPosition());i<t&&(t=i,s=r)}}if(s&&s.isMarkerInClusterBounds(e))s.addMarker(e);else{const t=new f(this);t.addMarker(e),this.clusters_.push(t)}}createClusters_(e){if(!this.ready_)return;let t;0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),void 0!==this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),t=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));const s=this.getExtendedBounds(t),i=Math.min(e+this.batchSize_,this.markers_.length);for(let t=e;t<i;t++){const e=this.markers_[t];!e.isAdded&&this.isMarkerInBounds_(e,s)&&(!this.ignoreHidden_||this.ignoreHidden_&&e.getVisible())&&this.addToClosestCluster_(e)}if(i<this.markers_.length)this.timerRefStatic=window.setTimeout(()=>{this.createClusters_(i)},0);else{delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this);for(let e=0;e<this.clusters_.length;e++)this.clusters_[e].updateIcon()}}static CALCULATOR(e,t){let s=0;const i=e.length;let r=i;for(;0!==r;)r=Math.floor(r/10),s++;return s=Math.min(s,t),{text:i.toString(),index:s,title:""}}static withDefaultStyle(e){return Object.assign({textColor:"black",textSize:11,textDecoration:"none",textLineHeight:e.height,fontWeight:"bold",fontStyle:"normal",fontFamily:"Arial,sans-serif",backgroundPosition:"0 0"},e)}}E.BATCH_SIZE=2e3,E.BATCH_SIZE_IE=500,E.IMAGE_PATH="../images/m",E.IMAGE_EXTENSION="png",E.IMAGE_SIZES=[53,56,66,78,90];var _=E,k=function(e,t,s,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(a<3?r(o):a>3?r(t,s,o):r(t,s))||o);return a>3&&o&&Object.defineProperty(t,s,o),o},C=function(e,t,s,i){return new(s||(s=Promise))((function(r,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function n(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,n)}l((i=i.apply(e,t||[])).next())}))};let L=class extends u{constructor(){super(),this._markers=[],this._markerListeners=[]}onInit(){return C(this,void 0,void 0,(function*(){this.innerHTML='<div class="gb-map"></div>';const e=this.getLoaderOptions();try{yield a.load(e),this.getLocation()}catch(e){this.dispatchEvent(new CustomEvent(r.error,{detail:e}))}}))}addClickSelectedListener(e){e.addListener("click",()=>{const t=this._markers.filter(e=>e.getIcon()===this.markerSelectedImage);t.length>0&&t[0].setIcon(this.markerImage),e.setIcon(this.markerSelectedImage)})}dispatchGeoError(e){this.dispatchEvent(new CustomEvent("geoError",{detail:{code:e.code,message:e.message}}))}getLoaderOptions(){let e;return this.clientId?e={clientId:this.clientId,channel:this.channel}:this.apiKey&&(e={apiKey:this.apiKey}),e.region=this.region,e.language=this.language,e}getLocation(){navigator.geolocation.getCurrentPosition(e=>{const t=new google.maps.LatLng(e.coords.latitude,e.coords.longitude);this.initMap(t,this.zoom||10)},e=>{this.dispatchGeoError(e);const t=new google.maps.LatLng(0,0);this.initMap(t,1)},{timeout:1e3})}initMap(e,t){this.map=new google.maps.Map(this.querySelector(".gb-map"),{center:e,mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:t,mapTypeControl:!1,streetViewControl:!1}),this.cluster&&(this.clusterer=new _(this.map,null,{imagePath:this.clusterImagePath||"https://brands.gm-cdn.com/gbds/images/google-maps/m"})),this.markers&&this.markers.length>0&&this.setMarkers(this.markers)}configureMarkerIcons(e){this.markerImage&&e.setIcon(this.markerImage)}configureMarkerClickListeners(e){this.markerImage&&this.markerSelectedImage&&this.addClickSelectedListener(e),e.addListener("click",()=>this.dispatchEvent(new CustomEvent("markerSelected",{detail:e}))),this.scrollToMarker&&this._markerListeners.push(((e,t,s=0,i=0)=>e.addListener("click",()=>{if(s||i){const r=Math.pow(2,t.getZoom()),a=t.getProjection().fromLatLngToPoint(e.getPosition()),o=new google.maps.Point(s/r||0,i/r||0),n=new google.maps.Point(a.x-o.x,a.y+o.y),l=t.getProjection().fromPointToLatLng(n);t.panTo(l)}else t.panTo(e.getPosition())}))(e,this.map,this.scrollXOffset,this.scrollYOffset))}updateMarkerListenerOffsets(){this._markerListeners.forEach(e=>e.remove()),this._markerListeners=[],this._markers.forEach(e=>{this.configureMarkerClickListeners(e)})}updateMarkers(){this.map&&this.setMarkers(this.markers)}addMarker(e){const t=d(this.map.getBounds(),e);o(e,this.map,this.clusterer),this.configureMarkerIcons(e),this.configureMarkerClickListeners(e),this._markers.push(e),this.map.fitBounds(t)}clearMarkers(){this.clusterer?n(this.clusterer):n(this._markers),this._markers=[],this._markerListeners=[]}getAllMarkers(){return this._markers}getMarker(e){return this._markers.find(t=>t.getPosition().equals(e))}setMarkers(e){this.clearMarkers();const t=e[0].getPosition?e:e.map(l);o(t,this.map,this.clusterer),t.forEach(e=>{this.configureMarkerIcons(e),this.configureMarkerClickListeners(e)});const s=d(new google.maps.LatLngBounds,t);this._markers=t,this.map.fitBounds(s)}};k([c()],L.prototype,"apiKey",void 0),k([c()],L.prototype,"channel",void 0),k([c()],L.prototype,"clientId",void 0),k([c("boolean")],L.prototype,"cluster",void 0),k([c()],L.prototype,"clusterImagePath",void 0),k([c()],L.prototype,"language",void 0),k([c()],L.prototype,"markerImage",void 0),k([c()],L.prototype,"markerSelectedImage",void 0),k([c()],L.prototype,"region",void 0),k([c("boolean")],L.prototype,"scrollToMarker",void 0),k([c("number")],L.prototype,"zoom",void 0),k([c("array","updateMarkers")],L.prototype,"markers",void 0),k([c("number","updateMarkerListenerOffsets")],L.prototype,"scrollXOffset",void 0),k([c("number","updateMarkerListenerOffsets")],L.prototype,"scrollYOffset",void 0),L=k([h("gb-google-map")],L);var M=function(e,t,s,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(a<3?r(o):a>3?r(t,s,o):r(t,s))||o);return a>3&&o&&Object.defineProperty(t,s,o),o};let I=class extends HTMLElement{constructor(){super(),this.template='\n\t<div class="gb-dl-result-service"></div>\n\t<div class="gb-dl-result-phone"></div>\n\t<div class="gb-dl-result-open-status"><span class="gb-dl-result-open"></span><span class="gb-dl-result-time"></span></div>\n\t<a class="gb-primary-button"></a>\n\t'}onInit(){this.innerHTML=this.template,this.initializeStaticElements(),this.updateStaticElements()}initializeStaticElements(){this.offersButton=this.querySelector("a.gb-primary-button"),this.openStatusEl=this.querySelector(".gb-dl-result-open-status"),this.serviceOpen||this.openStatusEl.classList.add("gb-dl-result-closed"),this.phoneEl=this.querySelector(".gb-dl-result-phone"),this.timeEl=this.querySelector(".gb-dl-result-time"),this.serviceEl=this.querySelector(".gb-dl-result-service"),null!=this.phoneEl&&null!=this.serviceEl?this.openEl=this.querySelector(".gb-dl-result-open"):this.openStatusEl.classList.add("gb-dl-result-closed"),this.website&&(this.websiteEl=document.createElement("a"),this.websiteEl.classList.add("gb-dl-result-website"),this.websiteEl.setAttribute("target","_blank"),this.insertBefore(this.websiteEl,this.offersButton))}updateStaticElements(){this.offersButton.href=this.offersLink,this.offersButton.innerText=this.offersButtonText,this.openEl.innerText=this.openText,this.phoneEl.innerHTML="<a href='tel:"+this.servicePhone+"'>"+this.servicePhone+"</a>",this.timeEl.innerText=this.time,this.serviceEl.innerText=this.serviceLabel,this.website&&this.dealerWebsiteLabel&&(this.websiteEl.href=this.website,this.websiteEl.innerText=this.dealerWebsiteLabel)}};M([c()],I.prototype,"openText",void 0),M([c()],I.prototype,"offersButtonText",void 0),M([c()],I.prototype,"offersLink",void 0),M([c()],I.prototype,"serviceLabel",void 0),M([c("boolean")],I.prototype,"serviceOpen",void 0),M([c()],I.prototype,"servicePhone",void 0),M([c()],I.prototype,"time",void 0),M([c()],I.prototype,"website",void 0),M([c()],I.prototype,"dealerWebsiteLabel",void 0),I=M([h("gb-dl-search-result-detail")],I);var x=function(e,t,s,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(a<3?r(o):a>3?r(t,s,o):r(t,s))||o);return a>3&&o&&Object.defineProperty(t,s,o),o};let T=class extends HTMLElement{constructor(){super(),this.template='\n\t<div class="gb-dl-result-name"></div>\n\t<div class="gb-dl-result-distance"></div>\n\t<div class="gb-dl-result-address-container">\n\t\t<div class="gb-dl-result-address1"></div>\n\t\t<div class="gb-dl-result-address-details"></div>\n\t</div>\n\t'}attributeChangedCallback(e,t,s){switch(e){case"display-details":this.processPhoneElement()}}static get observedAttributes(){return["display-details"]}onInit(){this.innerHTML=this.template,this.initializeStaticElements(),this.updateStaticElements(),this.processPhoneElement()}initializePhoneElement(){this.phoneEl=document.createElement("div"),this.phoneEl.classList.add("phone"),this.updatePhoneElement()}initializeStaticElements(){this.nameEl=this.querySelector(".gb-dl-result-name"),this.distanceEl=this.querySelector(".gb-dl-result-distance"),this.address1El=this.querySelector(".gb-dl-result-address1"),this.addressDetailsEl=this.querySelector(".gb-dl-result-address-details"),this.addressTwo&&(this.address2El=document.createElement("div"),this.address2El.classList.add("gb-dl-result-address2"),this.insertBefore(this.address2El,this.addressDetailsEl))}processPhoneElement(){this.phoneEl&&!this.displayDetails?this.phoneEl.remove():this.phoneEl&&this.displayDetails?(this.updatePhoneElement(),this.appendChild(this.phoneEl)):!this.phoneEl&&this.displayDetails&&(this.initializePhoneElement(),this.appendChild(this.phoneEl))}updatePhoneElement(){this.phoneEl.innerHTML="<a href='tel:"+this.phone+"'>"+this.phone+"</a>"}updateStaticElements(){this.nameEl.innerText=this.dealerName,this.distanceEl.innerText=this.distanceText,this.address1El.innerText=this.addressOne,this.addressDetailsEl.innerText=this.addressDetails,this.addressTwo&&(this.address2El.innerText=this.addressTwo)}get addressDetails(){return`${this.city}, ${this.countrySubdivisionCode}, ${this.postalCode}`}get distanceText(){return this.distance+" "+this.distanceUnit}};x([c()],T.prototype,"addressOne",void 0),x([c()],T.prototype,"addressTwo",void 0),x([c()],T.prototype,"city",void 0),x([c()],T.prototype,"dealerName",void 0),x([c()],T.prototype,"distance",void 0),x([c()],T.prototype,"distanceUnit",void 0),x([c()],T.prototype,"phone",void 0),x([c()],T.prototype,"postalCode",void 0),x([c()],T.prototype,"countrySubdivisionCode",void 0),x([c("boolean")],T.prototype,"displayDetails",void 0),T=x([h("gb-dl-search-result-info")],T);var w=function(e,t,s,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(a<3?r(o):a>3?r(t,s,o):r(t,s))||o);return a>3&&o&&Object.defineProperty(t,s,o),o};let D=class extends HTMLElement{constructor(){super(),this.dlDaysToLabels={1:"opensMondayAt",2:"opensTuesdayAt",3:"opensWednesdayAt",4:"opensThursdayAt",5:"opensFridayAt",6:"opensSaturdayAt",7:"opensSundayAt"}}createInner(){this.backEl=document.createElement("span"),this.backEl.classList.add("gb-dl-modal-back"),this.modalWrapper.appendChild(this.backEl),this.dealerNameEl=document.createElement("div"),this.dealerNameEl.classList.add("gb-dl-modal-name"),this.modalWrapper.appendChild(this.dealerNameEl),this.distanceEl=document.createElement("div"),this.distanceEl.classList.add("gb-dl-modal-distance"),this.modalWrapper.appendChild(this.distanceEl),this.addressContainer=document.createElement("div"),this.addressContainer.classList.add("gb-dl-address-container"),this.addressLineOneEl=document.createElement("div"),this.addressLineOneEl.classList.add("gb-dl-modal-address-line-one"),this.addressDetailsEl=document.createElement("div"),this.addressDetailsEl.classList.add("gb-dl-modal-address-details"),this.addressContainer.appendChild(this.addressLineOneEl),this.addressContainer.appendChild(this.addressDetailsEl),this.modalWrapper.appendChild(this.addressContainer),this.salesBlockEl=document.createElement("div"),this.salesBlockEl.classList.add("gb-dl-modal-sales"),this.modalWrapper.appendChild(this.salesBlockEl),this.serviceBlocklEl=document.createElement("div"),this.serviceBlocklEl.classList.add("gb-dl-modal-service"),this.modalWrapper.appendChild(this.serviceBlocklEl),this.availableServicesEl=document.createElement("div"),this.availableServicesEl.classList.add("gb-dl-modal-available-services-container"),this.modalWrapper.appendChild(this.availableServicesEl),this.modalWrapper.classList.add("hide")}updateStaticElements(e,t){this.modalWrapper=document.querySelectorAll(".gb-dealer-details-modal").item(0),0==this.modalWrapper.innerHTML.length||(this.modalWrapper.innerHTML=""),this.createInner(),this.backEl.innerText=t.backLabel,this.backEl.onclick=()=>this.closeModal(),this.dealerNameEl.innerText=e.dealerName,this.distanceEl.innerText=e.distance+" "+t.distanceUnit,this.addressLineOneEl.innerText=e.address.addressLine1,this.addressDetailsEl.innerText=this.addressDetails(e),this.salesBlockEl.appendChild(this.returnTypeBlock(e.generalContact,e.generalOpeningHour,t.salesLabel,t)),this.serviceBlocklEl.appendChild(this.returnTypeBlock(e.generalContact,e.serviceOpeningHour,t.serviceLabel,t)),this.availableServicesEl.appendChild(this.returnAvailableServices(e.services,t)),this.modalWrapper.style.display="inherit"}closeModal(){this.modalWrapper.innerHTML="",this.modalWrapper.style.display="none",this.dealerSearchEl.style.display="block",this.resultsContainer.style.display="block"}addressDetails(e){return`${e.address.cityName}, ${e.address.countrySubdivisionCode}, ${e.address.postalCode}`}returnTypeBlock(e,t,s,i){if(void 0===t)return new HTMLDivElement;const r=this.getHoursForToday(t);let a=document.createElement("div"),o=document.createElement("div"),n=document.createElement("div");a.classList.add("gb-dl-modal-dealer-column"),o.classList.add("gb-dl-modal-label"),o.innerText=s,n.classList.add("gb-dl-modal-dealer-department"),n.appendChild(o);let l=document.createElement("div");l.classList.add("gb-dl-modal-phone"),l.innerText=e.phone1,n.appendChild(l),a.appendChild(n);let d=document.createElement("div");d.classList.add("gb-dl-modal-status");let c=document.createElement("span");c.classList.add("gb-dl-modal-open"),c.innerText=i.openUntil+" "+r.openFrom,d.append(c),a.appendChild(d);let h=document.createElement("div");return h.classList.add("gb-dl-modal-hours-container"),h.appendChild(this.returnHoursList(t,i)),a.appendChild(h),a}returnHoursList(e,t){let s=document.createElement("ul");s.classList.add("gb-dl-modal-hours-list");let i,r,a,o,n=[],l=[1,2,3,4,5,6,7];for(let l=0;l<e.length;l++)for(let d=0;d<e[l].dayOfWeek.length;d++)i=document.createElement("li"),i.classList.add("gb-dl-modal-list-item-day-hours-container"),r=this.dlDaysToLabels[e[l].dayOfWeek[d]],a=document.createElement("div"),o=document.createElement("div"),a.innerText=t[r],o.innerText=e[l].openFrom+"-"+e[l].openTo,a.classList.add("gb-dl-modal-list-item-day"),o.classList.add("gb-dl-modal-list-item-hour"),i.appendChild(a),i.appendChild(o),n.push(e[l].dayOfWeek[d]),s.appendChild(i);return l.find(e=>!n.includes(e))>0&&(i=document.createElement("li"),r=this.dlDaysToLabels[l.find(e=>!n.includes(e))],a=document.createElement("div"),o=document.createElement("div"),a.innerText=t[r],o.innerText=t.closed,i.appendChild(a),i.appendChild(o),s.appendChild(i)),s}returnAvailableServices(e,t){let s=document.createElement("div");s.classList.add("gb-dl-modal-available-services");let i=document.createElement("span");i.classList.add("gb-dl-modal-service-label");let r=document.createElement("ul");r.classList.add("gb-dl-modal-services-list"),i.innerText=t.serviceLabel,s.appendChild(i);for(let t=0;t<e.length;t++){let s=document.createElement("li");s.classList.add("gb-dl-modal-service"),s.innerText=e[t].name,r.appendChild(s)}return s.appendChild(r),s}get today(){const e=(new Date).getDay();return 0===e?7:e}getHoursForToday(e){return e.find(e=>e.dayOfWeek.includes(this.today))}get dealerSearchEl(){return document.querySelector("gb-dl-search")}get resultsContainer(){return document.querySelector(".q-dealer-results-container")}};w([c("object")],D.prototype,"dealerInfo",void 0),w([c("object")],D.prototype,"dealerLabels",void 0),w([c("object")],D.prototype,"searchResult",void 0),D=w([h("gb-dl-search-result-modal")],D);var O=function(e,t,s,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(a<3?r(o):a>3?r(t,s,o):r(t,s))||o);return a>3&&o&&Object.defineProperty(t,s,o),o};let P=class extends HTMLElement{constructor(){super(),this.dlDaysToLabels={1:"opensMondayAt",2:"opensTuesdayAt",3:"opensWednesdayAt",4:"opensThursdayAt",5:"opensFridayAt",6:"opensSaturdayAt",7:"opensSundayAt"}}attributeChangedCallback(e){switch(e){case"selected":this.markerSvgEl&&this.processSelected()}}static get observedAttributes(){return["selected"]}onInit(){this.displayMarker&&this.initializeMarker(),this.initializeInfoMarker(),this.initializeDisplayInfo(),this.initializeModal(),this.displayDetails&&this.initalizeDisplayDetails()}formatTime(e){if(e.match(/[0-9]{2}:[0-9]{2}\s(AM|PM)/g))e=(e="0"===(e="0"===e.charAt(3)?e.substr(0,2)+e.substr(5):e).charAt(0)?e.substr(1):e).replace(" ","");else{let t;t=parseInt(e.substr(0,2));const s=parseInt(e.substr(3,2)),i=t<12?"AM":"PM";t%=12,t=0===t?12:t,e=0===s?t.toString()+i:t.toString()+":"+s.toString()+i}return e}configureClosedResultDetailOpenStatus(e){const t=this.getNextOpenDay(e);if(this.searchResultDetail.serviceOpen=!1,t)if(t.day===this.today+1)this.searchResultDetail.openText=this.labels.opensTomorrowAt+" ",this.searchResultDetail.time=this.formatTime(t.openHours.openFrom);else{const e=this.dlDaysToLabels[t.day];this.searchResultDetail.openText=this.labels[e]+" ",this.searchResultDetail.time=this.formatTime(t.openHours.openFrom)}else this.searchResultDetail.openText=this.labels.notOpenForNextWeek}configureOpenResultDetailOpenStatus(e,t){const s=new Date,i=this.getOpenHourDate(e,"open"),r=this.getOpenHourDate(e,"close");s<i?(this.searchResultDetail.serviceOpen=!1,this.searchResultDetail.openText=this.labels.opensAt+" ",this.searchResultDetail.time=this.formatTime(e.openFrom)):s>i&&s<r?r.getTime()-s.getTime()<36e5?(this.searchResultDetail.serviceOpen=!1,this.searchResultDetail.openText=this.labels.closingSoon+" ",this.searchResultDetail.time=this.formatTime(e.openTo)):(this.searchResultDetail.serviceOpen=!0,this.searchResultDetail.openText=this.labels.openUntil+" ",this.searchResultDetail.time=this.formatTime(e.openTo)):s>r&&(this.searchResultDetail.serviceOpen=!1,this.searchResultDetail.openText=this.labels.closedNow)}getDayOpenHours(e,t){return e.find(e=>e.dayOfWeek.includes(t))}getNextOpenDay(e){const t=e.flatMap(e=>e.dayOfWeek).sort();let s;for(let e=this.today+1;e<=7;e++){const i=t.find(t=>t===e);if(i){s=i;break}}if(s)return{openHours:this.getDayOpenHours(e,s),day:s};for(let e=1;e<=this.today;e++){const i=t.find(t=>t===e);if(i){s=i;break}}return s?{openHours:this.getDayOpenHours(e,s),day:s}:null}getOpenHourDate(e,t){const s=new Date;return new Date(`${s.toDateString()} ${"open"===t?e.openFrom:e.openTo}`)}initalizeDisplayDetails(){this.searchResultDetail=new I,this.updateSearchResultDetail(),this.appendChild(this.searchResultDetail)}initializeDisplayInfo(){this.searchResultInfo=new T,this.updateSearchResultInfo(),this.appendChild(this.searchResultInfo)}initializeMarker(){this.markerEl=document.createElement("div"),this.markerEl.classList.add("marker"),this.markerEl.innerHTML='\n\t\t<div class="text"></div>\n\t\t<div class="markerImg"></div>',this.markerSvgEl=this.markerEl.querySelector(".markerImg"),this.markerEl.querySelector(".text").innerText=this.markerText,this.processSelected(),this.appendChild(this.markerEl)}initializeModal(){this.modalContainer=new D}initializeInfoMarker(){this.infoEl=document.createElement("div"),this.infoEl.classList.add("info-marker"),this.infoEl.onclick=()=>this.callModal(this.dealerInfo),this.appendChild(this.infoEl)}callModal(e){this.modalContainer.style.visibility="visible",this.modalContainer.style.display="block",this.dealerSearchEl.style.display="none",this.resultsContainer.style.display="none",this.modalContainer.updateStaticElements(e,this.labels)}processSelected(){this.selected?this.markerSvgEl.style.fill=this.markerColorSelected:this.markerSvgEl.style.fill=this.markerColor}updateSearchResultDetail(){this.searchResultDetail.servicePhone=this.dealerInfo.generalContact.phone2,this.searchResultDetail.serviceLabel=this.labels.serviceLabel,this.searchResultDetail.offersLink=this.offersLink,this.searchResultDetail.offersButtonText=this.labels.offersButtonLabel,this.dealerInfo.dealerUrl&&(this.searchResultDetail.website=this.dealerInfo.dealerUrl,this.searchResultDetail.dealerWebsiteLabel=this.labels.dealerWebsiteLabel);const e=this.getDayOpenHours(this.dealerInfo.serviceOpeningHour,this.today);e?this.configureOpenResultDetailOpenStatus(e,this.dealerInfo.serviceOpeningHour):(this.searchResultDetail.serviceOpen=!1,this.searchResultDetail.openText=this.labels.closedToday)}updateSearchResultInfo(){const{address:e}=this.dealerInfo;this.searchResultInfo.addressOne=e.addressLine1,this.searchResultInfo.addressTwo=e.addressLine2,this.searchResultInfo.city=e.cityName,this.searchResultInfo.dealerName=this.dealerInfo.dealerName,this.searchResultInfo.displayDetails=this.displayDetails,this.searchResultInfo.distance=this.dealerInfo.distance,this.searchResultInfo.distanceUnit=this.labels.distanceUnit,this.searchResultInfo.postalCode=e.postalCode,this.searchResultInfo.phone=this.dealerInfo.generalContact.phone1,this.searchResultInfo.countrySubdivisionCode=e.countrySubdivisionCode}get today(){const e=(new Date).getDay();return 0===e?7:e}get dealerSearchEl(){return document.querySelector("gb-dl-search")}get resultsContainer(){return document.querySelector(".q-dealer-results-container")}};O([c("boolean")],P.prototype,"displayDetails",void 0),O([c("boolean")],P.prototype,"displayMarker",void 0),O([c("object")],P.prototype,"dealerInfo",void 0),O([c("object")],P.prototype,"labels",void 0),O([c()],P.prototype,"markerColor",void 0),O([c()],P.prototype,"markerColorSelected",void 0),O([c()],P.prototype,"markerText",void 0),O([c()],P.prototype,"offersLink",void 0),O([c("boolean")],P.prototype,"selected",void 0),P=O([h("gb-dl-search-result")],P);var B,A=function(e,t,s,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(a<3?r(o):a>3?r(t,s,o):r(t,s))||o);return a>3&&o&&Object.defineProperty(t,s,o),o},R=function(e,t,s,i){return new(s||(s=Promise))((function(r,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function n(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,n)}l((i=i.apply(e,t||[])).next())}))};!function(e){e.Chevrolet="001",e.Cadillac="006",e.GMC="004",e.Buick="012"}(B||(B={}));let $=class extends HTMLElement{constructor(){super(),this.selectedSearchType="postalCode",this.searched=!1,this.defaultSeacrchType=this.selectedSearchType}onInit(){this.rootElement=document.createElement("div"),this.rootElement.classList.add("gb-dl-search");const e=document.querySelector(".dealer-selector-menu-item")?"mcs"===document.querySelector(".dealer-selector-menu-item").getAttribute("data-brand-name"):null,t=document.querySelector(".dealer-selector-menu-item")?"ca"===document.querySelector(".dealer-selector-menu-item").getAttribute("data-country-code"):null;this.isMcsCanada=e&&t,this.isMcsCanada&&(this.dealerSelectorDiv=document.querySelector(".dealer-selector-menu-item"),this.changeDealer="change"===this.dealerSelectorDiv.getAttribute("data-dealer-change")),this.labelsJSON=this.labels?JSON.parse(this.labels):null,this.rootElement.innerHTML=this.template,this.appendChild(this.rootElement),this.init()}init(){this.searchInputElement=this.querySelector(".gb-search-input"),this.dealerNameInputElement=this.querySelector(".gb-dealer-name"),this.postalCodeInputElement=this.querySelector(".gb-postal-code"),this.isMcsCanada&&(this.searchErrorDiv=document.querySelector(".gb-search-error"),this.searchInputDiv=document.querySelector(".gb-search-input-container"));const e=new CustomEvent("manualSearch");this.querySelector(".gb-use-location-button").onclick=()=>{this.viewMoreDealers=!1,this.dispatchEvent(e),this.onUseMyLocation()},this.querySelector(".gb-search-button").onclick=()=>{this.viewMoreDealers=!1,this.dispatchEvent(e),this.onSearchDealers()},this.addEventListener("viewMoreDealers",()=>{this.onViewMoreDealers()}),this.setGoogleApi().then(()=>{this.isMcsCanada&&""!==this.getPostalCodeFromCookie()&&this.searchByPostalcode()}),this.initSearchOptions(),this.initBrandSelector(),this.initDealerFilters(),this.isMcsCanada||this.initializeFilterModal(),this.updateSearchType(),this.isMcsCanada||this.addEventListener("searchResultsReady",()=>{this.updateSearchButtons(),this.searched=!0})}updateSearchButtons(){this.querySelector(".gb-input-fields").insertBefore(this.querySelector(".gb-use-location-button"),this.querySelector(".gb-search-fields"));const e=this.querySelector(".gb-use-location-button");e.classList.add("location-icon"),e.textContent="",this.querySelector(".gb-search-button").textContent=this.labelsJSON?this.labelsJSON.updateSearchLabel:"","name"===this.selectedSearchType&&e.classList.add("hide")}checkIfBrandSelected(){let e=!this.displayBrandSelector;const t=document.querySelectorAll(".gb-brand");return this.displayBrandSelector&&t.forEach((function(t){t.classList.contains("selected")&&(e=!0)})),e}enableDisableNameSearch(){const e=this.querySelector(".gb-dealer-name"),t=this.querySelector(".gb-search-button");this.checkIfBrandSelected()&&null!==e.value&&""!==e.value?t.disabled=!1:t.disabled=!0}enableDisableCitySearch(){const e=this.querySelector(".gb-search-input"),t=this.querySelector(".gb-search-button");this.checkIfBrandSelected()&&null!==e.value&&""!==e.value?t.disabled=!1:t.disabled=!0}enableDisablePostSearch(){const e=this.querySelector(".gb-postal-code"),t=this.querySelector(".gb-search-button");this.checkIfBrandSelected()&&null!==e.value&&""!==e.value?t.disabled=!1:t.disabled=!0}removeAllFilterButtons(){const e=this.querySelector(".gb-selected-filter");e&&e.remove()}showFilters(){const e=this.filterInputElements.filter(e=>e.checked).map(e=>{const t=this.filterMap[e.id];return`<div class="gb-filter-button" code=${e.id}>${t}</span></div>`}).join("");this.removeAllFilterButtons();const t=document.createElement("div");t.classList.add("gb-selected-filter"),t.innerHTML=e,this.rootElement.appendChild(t),this.rootElement.querySelectorAll(".gb-filter-button").forEach(e=>{e.addEventListener("click",e=>{const t=e.target,s=t.getAttribute("code");t.remove(),this.rootElement.querySelector(`input[id="${s}"]`).checked=!1})})}initDealerFilters(){this.filters&&(this.filterMap=this.filters.reduce((e,t)=>(e[t.code]=t.label,e),{}),this.filterButtonElement=this.querySelector("button.gb-dl-search-filter"),this.filterButtonElement.addEventListener("click",()=>{this.displayFilterModal()}))}initSearchOptions(){this.querySelectorAll('input[name="search-type"]').forEach(e=>{e.addEventListener("click",()=>{this.updateSearchType()})})}disableSearchButton(){this.querySelector(".gb-search-button").disabled=!0}initBrandSelector(){if(!this.displayBrandSelector)return;this.querySelectorAll(".gb-brand").forEach(e=>{e.addEventListener("click",e=>{this.onBrandElementClick(e),this.onErrorSelection()})})}updateSearchType(){this.isMcsCanada||this.disableSearchButton();const e=this.querySelector('input[name="search-type"]:checked');switch(e&&(this.selectedSearchType=e.value),"name"!==this.selectedSearchType&&(this.dealerNameInputElement.style.display="none"),this.searchInputElement.value="",this.dealerNameInputElement.value="",this.postalCodeInputElement.value="",this.selectedSearchType){case"name":this.searchInputElement.style.display="block",this.dealerNameInputElement.style.display="block",this.postalCodeInputElement.style.display="none",this.dealerCityPlaceholder&&this.searchInputElement.setAttribute("placeholder",this.dealerCityPlaceholder),this.isMcsCanada||(this.dealerNameInputElement.addEventListener("input",this.enableDisableNameSearch.bind(this)),this.searched&&this.querySelector(".gb-use-location-button").classList.add("hide"));break;case"cityState":this.postalCodeInputElement.style.display="none",this.searchInputElement.style.display="block",this.cityStatePlaceholder&&this.searchInputElement.setAttribute("placeholder",this.cityStatePlaceholder),this.isMcsCanada||(this.searchInputElement.addEventListener("input",this.enableDisableCitySearch.bind(this)),this.querySelector(".gb-use-location-button").classList.remove("hide"));break;case"postalCode":this.postalCodeInputElement.style.display="block",this.searchInputElement.style.display="none",this.isMcsCanada||(this.postalCodeInputElement.addEventListener("input",this.enableDisablePostSearch.bind(this)),this.querySelector(".gb-use-location-button").classList.remove("hide"))}}setGoogleApi(){return R(this,void 0,void 0,(function*(){if(!this.searchOptions)return;0!==this.searchOptions.filter(e=>{if("cityState"===e.id)return!0}).length&&(yield a.load({clientId:this.clientId,apiKey:this.apiKey,channel:this.channel,region:this.region,language:this.language}),this.setAutocomplete())}))}setAutocomplete(){const e={componentRestrictions:{country:this.region.toLowerCase()},types:"address"===this.selectedSearchType?[]:["(cities)"]};this.autocomplete=new google.maps.places.Autocomplete(this.searchInputElement,e)}searchByCityState(e=""){const t=e||this.searchInputElement.value;if(!t)return;const s={address:t};this.getCoordinate(s).then(e=>{this.searchBylatLong(e.latitude,e.longitude)}).catch(()=>{const t=e.split(", "),s="&city="+t[0],i="&state="+t[1],r="USA"===t[2]?"&country=US":"",a=`${this.baseSearchUrl}&searchType=citySearch&${s}${i}${r}`;this.search(a)})}searchByPostalcode(){let e=this.postalCodeInputElement.value;if(this.isMcsCanada){this.changeDealer&&(e=this.getPostalCodeFromCookie(),document.querySelector(".q-wc-dealer-selector-panel").classList.remove("active"),document.querySelector(".q-wc-dealer-selector-result-panel").classList.add("active"),this.dealerSelectorDiv.removeAttribute("data-dealer-change"),this.changeDealer=!1);const t=this.dealerSelectorDiv.getAttribute("data-default-postalcode-error"),s=/^[ABCEGHJ-NPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][ -]?\d[ABCEGHJ-NPRSTV-Z]\d$/i.exec(e);if(!e)return this.searchInputDiv.classList.add("error"),void(this.searchErrorDiv.textContent=t);if(s){this.searchErrorDiv.textContent="",this.searchInputDiv.classList.remove("error");const t={address:"zipcode "+e};this.getCoordinate(t).then(t=>{this.searchBylatLong(t.latitude,t.longitude);const s=new Date;s.setDate(s.getDate()+30),document.cookie="gmwp.selected-postcode="+e+"; path=/; expires="+s.toUTCString()}).catch(()=>{const t="postalCode="+e,s=`${this.baseSearchUrl}&searchType=postalCodeSearch&${t}`;this.search(s)})}else this.searchInputDiv.classList.add("error"),this.searchErrorDiv.textContent=t}else{if(!e)return;const t={address:"zipcode "+e};this.getCoordinate(t).then(e=>{this.searchBylatLong(e.latitude,e.longitude)}).catch(()=>{const t="postalCode="+e,s=`${this.baseSearchUrl}&searchType=postalCodeSearch&${t}`;this.search(s)})}}getCoordinate(e){return R(this,void 0,void 0,(function*(){const t=new google.maps.Geocoder;return new Promise((s,i)=>{t.geocode(e,(e,t)=>{if(t==google.maps.GeocoderStatus.OK){const t={latitude:e[0].geometry.location.lat(),longitude:e[0].geometry.location.lng()};s(t)}else if(t==google.maps.GeocoderStatus.ZERO_RESULTS&&this.isMcsCanada){const e=this.dealerSelectorDiv.getAttribute("data-default-no-results-error");this.searchErrorDiv.textContent=e}else{if(this.isMcsCanada){const e=this.dealerSelectorDiv.getAttribute("data-default-generic-error");this.searchErrorDiv.textContent=e}console.warn("ERROR: "+t)}return i})})}))}searchBylatLong(e,t){const s=`${this.baseSearchUrl}&latitude=${e}&longitude=${t}&searchType=latLongSearch`;this.search(s)}searchByDealerName(){const e=this.dealerNameInputElement.value,t=this.searchInputElement.value;if(!e)return;const s={Canada:"CA",USA:"US"},i="&dealerName="+e;if(t&&""!==t){const e=t.split(", "),r="&city="+e[0],a="&state="+e[1],o="&country="+s[e[2]],n=`${this.baseSearchUrl}&searchType=dealerNameSearch${i}${r}${a}${o}`;this.search(n)}else{const e=`${this.baseSearchUrl}&searchType=dealerNameSearch${i}`;this.search(e)}}search(e){this.getSearchResults(e).then(e=>{"success"===e.status&&this.dispatchEvent(new CustomEvent("searchResultsReady",{detail:{results:e.payload.dealers}}))}).catch(e=>{this.dispatchEvent(new CustomEvent("searchResultsError",{detail:{results:e}}))})}getPostalCodeFromCookie(){const e=document.cookie.split("; ").find(e=>e.startsWith("gmwp.selected-postcode"));return e?e.split("=")[1]:""}getDealerFilterCodes(){if(!this.filterInputElements)return"";return this.filterInputElements.filter(e=>e.checked).map(e=>e.getAttribute("id")).join(",")}getSearchResults(e){return R(this,void 0,void 0,(function*(){const t=new Headers({"Content-Type":"application/json; charset=utf-8",clientapplicationid:"quantum",locale:`${this.language}-${this.region}`});return(yield fetch(e,{method:"GET",headers:t,cache:"no-cache"})).json()}))}getBrandMakeCode(){if(this.displayBrandSelector){const e=this.querySelector(".gb-brand.selected");return e?B[e.getAttribute("name")]:void 0}return this.searchBrands.map(e=>B[e]).join()}get baseSearchUrl(){const e=this.getBrandMakeCode(),t=this.viewMoreDealers?this.maxResults:this.resultCount,s=t>this.maxResults?this.maxResults:t,i=this.distance||50,r=this.getDealerFilterCodes();return`${this.searchUrl}?desiredCount=${s}&distance=${i}&makeCodes=${e}&serviceCodes=${r}`}onBrandElementClick(e){const t=e.currentTarget,s=this.querySelector(".gb-brand.selected");s&&s.classList.remove("selected"),t.classList.add("selected");const i=this.querySelector(".gb-search-button");switch(this.selectedSearchType){case"postalCode":null!==this.postalCodeInputElement.value&&""!==this.postalCodeInputElement.value&&(i.disabled=!1);break;case"cityState":null!==this.searchInputElement.value&&""!==this.searchInputElement.value&&(i.disabled=!1);break;case"name":null!==this.dealerNameInputElement.value&&""!==this.dealerNameInputElement.value&&(i.disabled=!1);break;default:i.disabled=!1}}onFilterDropdownItemClick(e){this.dropdownListElement.classList.remove("show"),"clear"===e.target.getAttribute("id")?(this.removeAllFilterButtons(),this.filterInputElements.forEach(e=>{e.checked=!1})):this.showFilters()}onDropdownClick(){this.dropdownListElement.classList.toggle("show")}onViewMoreDealers(){this.viewMoreDealers=!0,this.onSearchDealers()}onSearchDealers(){switch(this.selectedSearchType){case"postalCode":return void this.searchByPostalcode();case"name":this.searchByDealerName();break;case"cityState":return void this.searchByCityState()}}get errorDiv(){return this.querySelector(".gb-error-message")}onErrorSelection(){this.errorDiv.style.display="none"}onUseMyLocation(){navigator.geolocation.getCurrentPosition(e=>{this.isMcsCanada&&(this.searchErrorDiv.textContent="");const{latitude:t,longitude:s}=e.coords;this.searchBylatLong(t,s)},e=>{if(this.isMcsCanada){const t=this.dealerSelectorDiv.getAttribute("data-default-location-unavailable-error"),s=this.dealerSelectorDiv.getAttribute("data-default-network-error");1===e.code?this.searchErrorDiv.textContent=t:2===e.code&&(this.searchErrorDiv.textContent=s)}console.warn(`ERROR(${e.code}): ${e.message}`)})}get brandSelectorTemplate(){if(!this.displayBrandSelector)return"";return`<div class="gb-brand-container">${Object.keys(B).map(e=>`\n\t\t\t\t\t<div class='gb-brand' name="${e}">\n\t\t\t\t\t\t<img src="${this[(""+e).toLowerCase()+"BrandImageLogo"]}" title=""></img>\n\t\t\t\t\t\t<span>${e}</span>\n\t\t\t\t\t</div>`).join("")}</div>\n\t\t\t\t<p class="gb-error-message" style="color:red;">${this.labelsJSON?this.labelsJSON.selectAbrandErrorMessage:""}</p>`}get searchOptionsTemplate(){const e=this.searchOptions;if(!e||0===e.length)return"";if(1===e.length){const{id:t,label:s}=e[0];return this.defaultSeacrchType=t,`\n\t\t\t\t<span class="gb-search-label">${s}</span>`}return`<div class="gb-search-options">${e.map(e=>{const t=e.id===this.defaultSeacrchType?"checked":"";return`\n\t\t\t\t\t<div class="gb-search-option">\n\t\t\t\t\t\t<input id="${e.id}" type="radio" name="search-type" value="${e.id}" ${t}></input>\n\t\t\t\t\t\t<label for="${e.id}">${e.label}</label>\n\t\t\t\t\t</div>`}).join("")}</div>`}get filterTemplate(){if(!this.filters)return"";return`\n\t\t\t<button class="gb-dl-search-filter gb-secondary-button" >Filter by Dealer Service</button>\n\t\t\t<div class="gb-dropdown-list">\n\t\t\t\t<ul>\n\t\t\t\t\t${"\n\t\t\t"+this.allDealerOptionTemplate}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t`}get template(){const e=this.headline1?`<div class="gb-title">${this.headline1}</div>`:"",t=this.headline2?`<div class="gb-title-text">${this.headline2}</div>`:"",s=this.postalCodePlaceholder?this.postalCodePlaceholder:"",i=this.dealerPlaceholder?this.dealerPlaceholder:"",r=`\n\t\t\t${e}\n\t\t\t${t}\n\t\t\t${this.brandSelectorTemplate}\n\t\t\t${this.searchOptionsTemplate}`;this.isMcsCanada&&(this.seperatorText=this.dealerSelectorDiv.getAttribute("data-default-seperator-text"),this.useLocationText=this.dealerSelectorDiv.getAttribute("data-default-ds-use-location-text"),this.ariaLabel=this.dealerSelectorDiv.getAttribute("data-default-postalcode-label"),this.dealerSearchDTM=this.dealerSelectorDiv.getAttribute("data-dealer-search-dtm"));const a=`\n\t\t\t${r}\n\t\t\t<div class="gb-search-input-container">\n\t\t\t\t<input class="gb-search-input"></input>\n\t\t\t\t<input class="gb-search-input gb-postal-code stat-input-field" data-dtm="${this.dealerSearchDTM}" aria-label="${this.ariaLabel}" placeholder="${s}"></input>\n\t\t\t\t<input class="gb-search-input gb-dealer-name" placeholder="${i}"></input>\n\t\t\t\t<button class="gb-search-button gb-secondary-button gb-search-icon stat-search-submit" data-dtm="${this.dealerSearchDTM}"></Button>\n\t\t\t</div>\n\t\t\t<div class="gb-search-error"></div>\n\t\t\t<div class="gb-separator-container">\n\t\t\t\t<span class="gb-decorative-line1"></span>\n\t\t\t\t<span class="gb-descriptive2">${this.seperatorText}</span>\n\t\t\t\t<span class="gb-decorative-line2"></span>\n\t\t\t</div>\n\t\t\t<button class="gb-use-location-button gb-primary-button stat-button-link" data-dtm="${this.dealerSearchDTM}">\n\t\t\t\t<img src="/etc/clientlibs/solar/img/placeholder_clear.png" alt="" class="gb-compass-icon"/>\n\t\t\t\t${this.useLocationText}\n\t\t\t</Button>\n\t\t\t${this.filterTemplate}`,o=`\n\t\t\t${r}\n\t\t\t<div class="gb-input-fields">\n\t\t\t\t<div class="gb-search-fields">\n\t\t\t\t\t<input class="gb-search-input"></input>\n\t\t\t\t\t<input class="gb-search-input gb-postal-code" placeholder="${s}"></input>\n\t\t\t\t\t<input class="gb-search-input gb-dealer-name" placeholder="${i}"></input>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="gb-separator-container">\n\t\t\t\t<span class="gb-descriptive2">\n\t\t\t\t\t${this.labelsJSON?this.labelsJSON.orLabel:""}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<button class="gb-use-location-button gb-secondary-button">\n\t\t\t\t${this.labelsJSON?this.labelsJSON.currentLocationTitle:""}\n\t\t\t</button>\n\t\t\t<button class="gb-search-button gb-primary-button onclick="this.onSearchDealers();">${this.labelsJSON?this.labelsJSON.searchDealersLabel:""}</Button>\n\t\t\t${this.filterTemplate}`;return this.isMcsCanada?a:o}initializeFilterModal(){if(!document.querySelector("div.gb-dl-filter-modal")){const e=document.querySelector("div.gb-dealer-locator-container");let t=document.createElement("div");t.classList.add("gb-dl-filter-modal"),t.classList.add("hide"),t.innerHTML=this.filterModalTemplate,e.appendChild(t),document.querySelector("a.gb-dl-filtes-back").addEventListener("click",e=>{this.returnToResults()})}}get filterModalTemplate(){return`\n\t\t\t<div class="gb-dl-filter-modal-return">\n\t\t\t\t<a class="gb-dl-filtes-back">Return to Results</a>\n\t\t\t</div>\n\t\t\t${this.brandSelectorTemplate}\n\t\t\t<h2 class="gb-dl-h2">Filter by Dealer Service</h2>\n\t\t\t${this.allDealerOptionTemplate}\n\t\t\t<div class="gb-dl-filter-modal-apply-button-container">\n\t\t\t\t<button class="db-dl-filter-modal-apply-button">Apply</button>\n\t\t\t</div>\n\t\t`}displayFilterModal(){const e=document.querySelector("div.gb-dl-filter-modal"),t=document.querySelector("div.q-dealer-results-container"),s=document.querySelector("gb-dl-search");t.classList.contains("show")?t.classList.replace("show","hide"):t.classList.add("hide"),s.classList.contains("show")?s.classList.replace("show","hide"):s.classList.add("hide"),e.classList.replace("hide","show")}returnToResults(){const e=document.querySelector("div.gb-dl-filter-modal"),t=document.querySelector("div.q-dealer-results-container"),s=document.querySelector("gb-dl-search");e.classList.replace("show","hide"),t.classList.replace("hide","show"),s.classList.replace("hide","show")}get allDealerOptionTemplate(){const e=this.filters.map(e=>`\n\t\t\t\t\t<li>\n\t\t\t\t\t<div class="gb-checkbox">\n\t\t\t\t\t<input id="${e.code}" type="checkbox" />\n\t\t\t\t\t\t<label for="${e.code}">${e.label}</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>`).join("");return`\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<div class="gb-checkbox">\n\t\t\t\t\t\t\t<input id="clear" type="checkbox" />\n\t\t\t\t\t\t\t<label for="clear">${this.allDealersFilterLabel||"All Dealers"}</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t\t${e}\n\t\t\t\t\t`}};A([c()],$.prototype,"apiKey",void 0),A([c()],$.prototype,"channel",void 0),A([c()],$.prototype,"clientId",void 0),A([c()],$.prototype,"language",void 0),A([c()],$.prototype,"region",void 0),A([c()],$.prototype,"headline1",void 0),A([c()],$.prototype,"headline2",void 0),A([c("array")],$.prototype,"searchOptions",void 0),A([c()],$.prototype,"searchUrl",void 0),A([c("array")],$.prototype,"searchBrands",void 0),A([c()],$.prototype,"defaultSeacrchType",void 0),A([c("boolean")],$.prototype,"displayBrandSelector",void 0),A([c("boolean")],$.prototype,"isMcsCanada",void 0),A([c("boolean")],$.prototype,"changeDealer",void 0),A([c("array")],$.prototype,"filters",void 0),A([c("number")],$.prototype,"distance",void 0),A([c("number")],$.prototype,"resultCount",void 0),A([c("number")],$.prototype,"maxResults",void 0),A([c()],$.prototype,"dealerPlaceholder",void 0),A([c()],$.prototype,"postalCodePlaceholder",void 0),A([c()],$.prototype,"cityStatePlaceholder",void 0),A([c()],$.prototype,"dealerCityPlaceholder",void 0),A([c()],$.prototype,"allDealersFilterLabel",void 0),A([c()],$.prototype,"labels",void 0),A([c()],$.prototype,"buickBrandImageLogo",void 0),A([c()],$.prototype,"cadillacBrandImageLogo",void 0),A([c()],$.prototype,"chevroletBrandImageLogo",void 0),A([c()],$.prototype,"gmcBrandImageLogo",void 0),$=A([h("gb-dl-search")],$);var q=function(e,t,s,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(a<3?r(o):a>3?r(t,s,o):r(t,s))||o);return a>3&&o&&Object.defineProperty(t,s,o),o};let z=class extends HTMLElement{constructor(){super()}onInit(){this.dealerLocatorRootElement=document.createElement("div"),this.dealerLocatorRootElement.classList.add("gb-dealer-locator-container"),this.googleMapElement=this.createMapElement(),this.dealerLocatorRootElement.appendChild(this.googleMapElement);const e=this.createSearchElement();this.dealerLocatorRootElement.appendChild(e);const t=document.createElement("div");t.classList.add("gb-dealer-details-modal"),t.style.display="none",this.dealerLocatorRootElement.appendChild(t),e.addEventListener("searchResultsReady",e=>{this.displayDealerResult(e.detail.results)}),e.addEventListener("manualSearch",()=>{this.showViewMoreDealersBtn=!0}),document.createElement("div").classList.add("q-search-result"),this.appendChild(this.dealerLocatorRootElement),this.labels&&(this.labelsJSON=JSON.parse(this.labels)),this.setMapOffset()}displayDealerResult(e){let t;const s=document.createElement("div");s.classList.add("q-dealer-results-container");const i=[];let r=65;const a={opensAt:this.labelsJSON.opensAt,openUntil:this.labelsJSON.openUntil,closingSoon:this.labelsJSON.closingSoon,closedNow:this.labelsJSON.closedNow,closedToday:this.labelsJSON.closedToday,opensTomorrowAt:"Tomorrow At",opensSundayAt:"Sun:",opensMondayAt:"Mon:",opensTuesdayAt:"Tues:",opensWednesdayAt:"Wed:",opensThursdayAt:"Thurs:",opensFridayAt:"Fri",opensSaturdayAt:"Sat",notOpenForNextWeek:"Closed Next Week",offersButtonLabel:"VIEW ALL OFFERS",distanceUnit:this.labelsJSON.distanceUnit,serviceLabel:this.labelsJSON.serviceLabel,salesLabel:this.labelsJSON.salesLabel,backLabel:this.labelsJSON.dealerDetails,dealerWebsiteLabel:this.labelsJSON.dealerWebsite};for(let o=0;o<e.length;o++){const n=e[o],l=String.fromCharCode(r++),d=new google.maps.Marker({position:{lat:n.geolocation.latitude,lng:n.geolocation.longitude},label:l,title:l});d.addListener("click",()=>{this.updateSelectedDealer(l)}),i.push(d);const c=document.createElement("div");c.classList.add("gb-dealer-container");const h=new P;h.labels=a,h.dealerInfo=n,h.displayDetails=!0,h.displayMarker=!0,h.markerText=l,0==o&&(c.classList.add("selected"),h.selected=!0,t=d),c.appendChild(h),s.appendChild(c)}const o=this.querySelector(".q-dealer-results-container");if(this.dealerLocatorRootElement.appendChild(s),o&&o.remove(),this.showViewMoreDealersBtn){const e=document.createElement("div"),t=document.createElement("button");e.classList.add("q-view-more-dealers-btn-container"),t.classList.add("gb-secondary-button","view-more-dealers-button"),t.innerText=this.labelsJSON.seeMoreDealers,t.addEventListener("click",()=>{this.dispatchViewMoreDealersEvent()}),e.appendChild(t),s.appendChild(e)}this.googleMapElement.setMarkers(i),t&&google.maps.event.trigger(t,"click")}setMapOffset(){const e=this.querySelector(".gb-dl-search").getBoundingClientRect();this.googleMapElement.scrollXOffset=window.innerWidth<960?0:(e.width+e.left)/2,this.googleMapElement.scrollYOffset=0,window.addEventListener("resize",()=>{window.innerWidth<960?(this.googleMapElement.scrollXOffset=0,this.googleMapElement.scrollYOffset=0):this.googleMapElement.scrollXOffset=(e.width+e.left)/2})}get dealerSearchComponent(){return this.querySelector("gb-dl-search")}get currentlySelectedDealer(){return this.querySelector("gb-dl-search-result[selected]:not([selected=false]")}dispatchViewMoreDealersEvent(){const e=this.dealerSearchComponent,t=document.createEvent("HTMLEvents");t.initEvent("viewMoreDealers",!0,!0),this.showViewMoreDealersBtn=!1,e.dispatchEvent(t)}updateSelectedDealer(e){const t=this.currentlySelectedDealer,s=this.querySelector(`gb-dl-search-result[marker-text=${e}]`);t.selected=!1,t.parentElement.classList.remove("selected"),s.selected=!0,s.parentElement.classList.add("selected"),s.parentElement.scrollIntoView({behavior:"smooth"})}createMapElement(){const e=new L;return e.clientId="gme-adamopelag",e.scrollToMarker=this.scrollToMarker,e.markerImage=this.markerImage,e.markerSelectedImage=this.markerSelectedImage,e.clusterImagePath=this.clusterImagePath,e.zoom=this.zoom,e.cluster=this.cluster,e}createSearchElement(){const e=new $;return e.searchUrl=this.searchUrl,e.headline1=this.headline1,e.headline2=this.headline2,e.searchOptions=this.searchOptions,e.region=this.region,e.language=this.language,e.displayBrandSelector=this.displayBrandSelector,e.searchBrands=this.searchBrands,e.filters=this.filters,e.resultCount=this.resultCount,e.distance=this.distance,e.dealerPlaceholder=this.dealerPlaceHolder,e.postalCodePlaceholder=this.postalCodePlaceholder,e.cityStatePlaceholder=this.cityStatePlaceholder,e.dealerCityPlaceholder=this.dealerCityPlaceholder,e.buickBrandImageLogo=this.buickBrandImageLogo,e.cadillacBrandImageLogo=this.cadillacBrandImageLogo,e.chevroletBrandImageLogo=this.chevroletBrandImageLogo,e.gmcBrandImageLogo=this.gmcBrandImageLogo,e.labels=this.labels,e.maxResults=this.maxResults,e}};q([c()],z.prototype,"apiKey",void 0),q([c()],z.prototype,"channel",void 0),q([c()],z.prototype,"clientId",void 0),q([c()],z.prototype,"language",void 0),q([c()],z.prototype,"region",void 0),q([c()],z.prototype,"headline1",void 0),q([c()],z.prototype,"headline2",void 0),q([c("boolean")],z.prototype,"displayBrandSelector",void 0),q([c("boolean")],z.prototype,"scrollToMarker",void 0),q([c()],z.prototype,"searchUrl",void 0),q([c("array")],z.prototype,"searchOptions",void 0),q([c()],z.prototype,"defaultSearchType",void 0),q([c("array")],z.prototype,"searchBrands",void 0),q([c("number")],z.prototype,"zoom",void 0),q([c("array")],z.prototype,"filters",void 0),q([c("number")],z.prototype,"distance",void 0),q([c("number")],z.prototype,"resultCount",void 0),q([c("number")],z.prototype,"maxResults",void 0),q([c()],z.prototype,"cluster",void 0),q([c()],z.prototype,"dealerPlaceHolder",void 0),q([c()],z.prototype,"postalCodePlaceholder",void 0),q([c()],z.prototype,"cityStatePlaceholder",void 0),q([c()],z.prototype,"dealerCityPlaceholder",void 0),q([c()],z.prototype,"labels",void 0),q([c()],z.prototype,"buickBrandImageLogo",void 0),q([c()],z.prototype,"cadillacBrandImageLogo",void 0),q([c()],z.prototype,"chevroletBrandImageLogo",void 0),q([c()],z.prototype,"gmcBrandImageLogo",void 0),q([c()],z.prototype,"markerImage",void 0),q([c()],z.prototype,"markerSelectedImage",void 0),q([c()],z.prototype,"clusterImagePath",void 0),z=q([h("gb-dealer-locator")],z)}});